<!DOCTYPE html>
<html lang="vi">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Drive Manager App</title>
    <link rel="stylesheet" href="style.css" />

    <!-- Firebase -->
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-database-compat.js"></script>

    <!-- QUAN TRá»ŒNG: ÄÆ°a script logic lÃªn Ä‘áº§u Ä‘á»ƒ trÃ¡nh lá»—i "not defined" -->
    <script src="script.js"></script>
  </head>
  <body>
    <div class="container">
      <header>
        <h1>â˜ï¸ Quáº£n lÃ½ File Drive</h1>
        <p class="subtitle">
          Upload lÃªn Google Drive - LÆ°u dá»¯ liá»‡u táº¡i Firebase
        </p>
      </header>

      <div id="auth-section">
        <p>Vui lÃ²ng Ä‘Äƒng nháº­p Ä‘á»ƒ tiáº¿p tá»¥c</p>
        <button id="authorize_button" class="btn-primary">
          ÄÄƒng nháº­p Google
        </button>
      </div>

      <div id="app-section" class="hidden">
        <div class="user-info">
          <button id="signout_button" class="btn-secondary">ÄÄƒng xuáº¥t</button>
        </div>

        <div class="card">
          <h3>ğŸ“¤ Táº£i file lÃªn</h3>
          <div class="upload-box">
            <input type="file" id="fileInput" />
            <button id="upload_btn" class="btn-success">Upload ngay</button>
          </div>
          <div id="progress-status" class="status-text"></div>
        </div>

        <div class="card">
          <div class="card-header">
            <h3>ğŸ“‚ Danh sÃ¡ch File Ä‘Ã£ lÆ°u</h3>
            <button id="refresh_btn" class="btn-small">ğŸ”„ LÃ m má»›i</button>
          </div>
          <ul id="file-list" class="file-list">
            <li>Äang táº£i dá»¯ liá»‡u...</li>
          </ul>
        </div>
      </div>
    </div>

    <!-- Google Scripts -->
    <script
      async
      defer
      src="https://apis.google.com/js/api.js"
      onload="gapiLoaded()"
    ></script>
    <script
      async
      defer
      src="https://accounts.google.com/gsi/client"
      onload="gisLoaded()"
    ></script>
  </body>
</html>
